import API_KEY from"./config.js";document.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("get-weather-btn");let t=document.getElementById("city-input"),n=document.getElementById("weather-result"),a=document.getElementById("side-tiles");function r(e,d,t){fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`).then(e=>e.json()).then(e=>{if(200===e.cod){var{main:e,name:t,weather:n,sys:a,timezone:r}=e,i=`http://openweathermap.org/img/wn/${n[0].icon}.png`,o=s(a.sunrise,r),a=s(a.sunset,r),r=n[0].main.toLowerCase();d.innerHTML=`
            <h2>${t}</h2>
            <img src="${i}" alt="${n[0].description}">
            <p>Temperature: ${e.temp} Â°C</p>
            <p>Weather: ${n[0].description}</p>
            <p>Sunrise: ${o}</p>
            <p>Sunset: ${a}</p>
          `;{t=d;let e;switch(r){case"clear":e="#ffeb3b";break;case"clouds":e="#90a4ae";break;case"rain":case"drizzle":case"thunderstorm":e="#607d8b";break;case"snow":e="#bbdefb";break;default:e="#b0bec5"}t.style.backgroundColor=e}}else d.innerHTML="City not found. Please try again."}).catch(e=>{d.innerHTML="Error fetching weather data. Please try again later."})}function s(e,t){e=new Date(1e3*(e+t));return new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"UTC",timeZoneName:"short"}).format(e)}e.addEventListener("click",()=>{var e=t.value.trim();""===e?n.innerHTML="Please enter a city name.":r(e,n,API_KEY)}),a.innerHTML="",["Moscow","London","Sydney"].forEach(e=>{var t=document.createElement("div");t.classList.add("weather-tile"),a.appendChild(t),r(e,t,API_KEY)})});